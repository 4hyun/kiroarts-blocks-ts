{"version":3,"names":["clsx","__","_x","isRTL","ToolbarButton","ToggleControl","__experimentalToolsPanelItem","ToolsPanelItem","AlignmentControl","BlockControls","InspectorControls","RichText","useBlockProps","useSettings","useBlockEditingMode","store","blockEditorStore","useSelect","getBlockSupport","formatLtr","useOnEnter","unlock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ParagraphRTLControl","direction","setDirection","icon","title","isActive","onClick","undefined","hasDropCapDisabled","align","DropCapControl","clientId","attributes","setAttributes","name","isDropCapFeatureEnabled","dropCap","helpText","isDropCapControlEnabledByDefault","group","children","hasValue","label","isShownByDefault","onDeselect","resetAllFilter","panelId","__nextHasNoMarginBottom","checked","onChange","help","disabled","ParagraphBlock","mergeBlocks","onReplace","onRemove","isSelected","isSingleSelected","isZoomOut","select","content","blockProps","ref","className","style","blockEditingMode","placeholder","value","newAlign","newDirection","identifier","tagName","newContent","onMerge","isEmpty","__unstableEmbedURLOnPaste","__unstableAllowPrefixTransformations"],"sources":["@wordpress/block-library/src/paragraph/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport {\n\tToolbarButton,\n\tToggleControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\tuseSettings,\n\tuseBlockEditingMode,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { getBlockSupport } from '@wordpress/blocks';\nimport { formatLtr } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport { useOnEnter } from './use-enter';\nimport { unlock } from '../lock-unlock';\n\nfunction ParagraphRTLControl( { direction, setDirection } ) {\n\treturn (\n\t\tisRTL() && (\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ formatLtr }\n\t\t\t\ttitle={ _x( 'Left to right', 'editor button' ) }\n\t\t\t\tisActive={ direction === 'ltr' }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetDirection( direction === 'ltr' ? undefined : 'ltr' );\n\t\t\t\t} }\n\t\t\t/>\n\t\t)\n\t);\n}\n\nfunction hasDropCapDisabled( align ) {\n\treturn align === ( isRTL() ? 'left' : 'right' ) || align === 'center';\n}\n\nfunction DropCapControl( { clientId, attributes, setAttributes, name } ) {\n\t// Please do not add a useSelect call to the paragraph block unconditionally.\n\t// Every useSelect added to a (frequently used) block will degrade load\n\t// and type performance. By moving it within InspectorControls, the subscription is\n\t// now only added for the selected block(s).\n\tconst [ isDropCapFeatureEnabled ] = useSettings( 'typography.dropCap' );\n\n\tif ( ! isDropCapFeatureEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst { align, dropCap } = attributes;\n\n\tlet helpText;\n\tif ( hasDropCapDisabled( align ) ) {\n\t\thelpText = __( 'Not available for aligned text.' );\n\t} else if ( dropCap ) {\n\t\thelpText = __( 'Showing large initial letter.' );\n\t} else {\n\t\thelpText = __( 'Show a large initial letter.' );\n\t}\n\n\tconst isDropCapControlEnabledByDefault = getBlockSupport(\n\t\tname,\n\t\t'typography.defaultControls.dropCap',\n\t\tfalse\n\t);\n\n\treturn (\n\t\t<InspectorControls group=\"typography\">\n\t\t\t<ToolsPanelItem\n\t\t\t\thasValue={ () => !! dropCap }\n\t\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\t\tisShownByDefault={ isDropCapControlEnabledByDefault }\n\t\t\t\tonDeselect={ () => setAttributes( { dropCap: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( { dropCap: undefined } ) }\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\t\t\tchecked={ !! dropCap }\n\t\t\t\t\tonChange={ () => setAttributes( { dropCap: ! dropCap } ) }\n\t\t\t\t\thelp={ helpText }\n\t\t\t\t\tdisabled={ hasDropCapDisabled( align ) }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t</InspectorControls>\n\t);\n}\n\nfunction ParagraphBlock( {\n\tattributes,\n\tmergeBlocks,\n\tonReplace,\n\tonRemove,\n\tsetAttributes,\n\tclientId,\n\tisSelected: isSingleSelected,\n\tname,\n} ) {\n\tconst isZoomOut = useSelect( ( select ) =>\n\t\tunlock( select( blockEditorStore ) ).isZoomOut()\n\t);\n\n\tconst { align, content, direction, dropCap } = attributes;\n\tconst blockProps = useBlockProps( {\n\t\tref: useOnEnter( { clientId, content } ),\n\t\tclassName: clsx( {\n\t\t\t'has-drop-cap': hasDropCapDisabled( align ) ? false : dropCap,\n\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t} ),\n\t\tstyle: { direction },\n\t} );\n\tconst blockEditingMode = useBlockEditingMode();\n\tlet { placeholder } = attributes;\n\tif ( isZoomOut ) {\n\t\tplaceholder = '';\n\t} else if ( ! placeholder ) {\n\t\tplaceholder = __( 'Type / to choose a block' );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<AlignmentControl\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t\t\t\tdropCap: hasDropCapDisabled( newAlign )\n\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t: dropCap,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ParagraphRTLControl\n\t\t\t\t\t\tdirection={ direction }\n\t\t\t\t\t\tsetDirection={ ( newDirection ) =>\n\t\t\t\t\t\t\tsetAttributes( { direction: newDirection } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t{ isSingleSelected && (\n\t\t\t\t<DropCapControl\n\t\t\t\t\tname={ name }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<RichText\n\t\t\t\tidentifier=\"content\"\n\t\t\t\ttagName=\"p\"\n\t\t\t\t{ ...blockProps }\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( newContent ) =>\n\t\t\t\t\tsetAttributes( { content: newContent } )\n\t\t\t\t}\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonRemove={ onRemove }\n\t\t\t\taria-label={\n\t\t\t\t\tRichText.isEmpty( content )\n\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t'Empty block; start writing or type forward slash to choose a block'\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Block: Paragraph' )\n\t\t\t\t}\n\t\t\t\tdata-empty={ RichText.isEmpty( content ) }\n\t\t\t\tplaceholder={ placeholder }\n\t\t\t\tdata-custom-placeholder={\n\t\t\t\t\tplaceholder && ! isZoomOut ? true : undefined\n\t\t\t\t}\n\t\t\t\t__unstableEmbedURLOnPaste\n\t\t\t\t__unstableAllowPrefixTransformations\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ParagraphBlock;\n"],"mappings":"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","ignoreList":[]}